# à¹€à¸ªà¸™à¹ˆà¸«à¹Œà¸‚à¹‰à¸²à¸§à¸¡à¸±à¸™à¹„à¸à¹ˆ POS System

à¸£à¸°à¸šà¸šà¸‚à¸²à¸¢à¸«à¸™à¹‰à¸²à¸£à¹‰à¸²à¸™à¸—à¸µà¹ˆà¸„à¸£à¸šà¸„à¸£à¸±à¸™à¸ªà¸³à¸«à¸£à¸±à¸šà¸£à¹‰à¸²à¸™à¸­à¸²à¸«à¸²à¸£ à¸à¸±à¸’à¸™à¸²à¸”à¹‰à¸§à¸¢ Next.js 14, TypeScript, Tailwind CSS à¹à¸¥à¸° Supabase

## âœ¨ Features à¸«à¸¥à¸±à¸

### ğŸ›’ POS System
- à¹€à¸¥à¸·à¸­à¸à¸›à¸£à¸°à¹€à¸ à¸—à¸­à¸­à¹€à¸”à¸­à¸£à¹Œ (à¸™à¸±à¹ˆà¸‡à¸—à¸²à¸™/à¸à¸¥à¸±à¸šà¸šà¹‰à¸²à¸™/à¹€à¸”à¸¥à¸´à¹€à¸§à¸­à¸£à¸µà¹ˆ)
- à¹€à¸¡à¸™à¸¹à¸¡à¸µà¸£à¸¹à¸›à¸ à¸²à¸à¹à¸¥à¸°à¸•à¸±à¸§à¹€à¸¥à¸·à¸­à¸à¹€à¸à¸´à¹ˆà¸¡à¹€à¸•à¸´à¸¡
- à¸•à¸°à¸à¸£à¹‰à¸²à¸ªà¸´à¸™à¸„à¹‰à¸²à¹à¸šà¸š Real-time
- à¸ªà¹ˆà¸‡à¸­à¸­à¹€à¸”à¸­à¸£à¹Œà¹„à¸›à¸„à¸£à¸±à¸§à¸—à¸±à¸™à¸—à¸µ

### ğŸ‘¨â€ğŸ³ KDS (Kitchen Display System)
- à¹à¸ªà¸”à¸‡à¸­à¸­à¹€à¸”à¸­à¸£à¹Œà¹à¸šà¸š Real-time
- à¹à¸¢à¸à¸ªà¸–à¸²à¸™à¸µ (à¸„à¸£à¸±à¸§/à¹€à¸„à¸£à¸·à¹ˆà¸­à¸‡à¸”à¸·à¹ˆà¸¡)
- à¸­à¸±à¸›à¹€à¸”à¸•à¸ªà¸–à¸²à¸™à¸° (à¸£à¸­à¸—à¸³/à¸à¸³à¸¥à¸±à¸‡à¸—à¸³/à¹€à¸ªà¸£à¹‡à¸ˆà¹à¸¥à¹‰à¸§)
- à¸à¸²à¸£à¹à¸ˆà¹‰à¸‡à¹€à¸•à¸·à¸­à¸™à¸­à¸­à¹€à¸”à¸­à¸£à¹Œà¹ƒà¸«à¸¡à¹ˆ

### ğŸ’° Bills Management  
- à¸”à¸¹à¸šà¸´à¸¥à¹à¸šà¸š Real-time
- à¸Šà¸³à¸£à¸°à¹€à¸‡à¸´à¸™ (à¹€à¸‡à¸´à¸™à¸ªà¸”/à¸šà¸±à¸•à¸£/à¹‚à¸­à¸™à¹€à¸‡à¸´à¸™)
- à¸à¸´à¸¡à¸à¹Œà¹ƒà¸šà¹€à¸ªà¸£à¹‡à¸ˆ
- à¸•à¸´à¸”à¸•à¸²à¸¡à¸ªà¸–à¸²à¸™à¸°à¸à¸²à¸£à¸Šà¸³à¸£à¸°

### ğŸ“Š Manager Dashboard
- Dashboard à¹à¸ªà¸”à¸‡à¸ªà¸–à¸´à¸•à¸´à¸¢à¸­à¸”à¸‚à¸²à¸¢
- à¸ˆà¸±à¸”à¸à¸²à¸£à¹€à¸¡à¸™à¸¹à¹à¸¥à¸°à¸£à¸²à¸„à¸²
- à¸ªà¹ˆà¸‡à¸­à¸­à¸à¸£à¸²à¸¢à¸‡à¸²à¸™ CSV
- à¹€à¸¡à¸™à¸¹à¸¢à¸­à¸”à¸™à¸´à¸¢à¸¡

### ğŸ” User Management
- à¸£à¸°à¸šà¸šà¸¥à¹‡à¸­à¸à¸­à¸´à¸™ PIN 4 à¸«à¸¥à¸±à¸
- à¸šà¸—à¸šà¸²à¸—à¸œà¸¹à¹‰à¹ƒà¸Šà¹‰ (POS/KDS/Manager)
- à¸à¸²à¸£à¸ˆà¸±à¸”à¸à¸²à¸£à¸ªà¸´à¸—à¸˜à¸´à¹Œà¸à¸²à¸£à¹€à¸‚à¹‰à¸²à¹ƒà¸Šà¹‰

### ğŸ“± PWA Support
- à¸•à¸´à¸”à¸•à¸±à¹‰à¸‡à¹€à¸›à¹‡à¸™à¹à¸­à¸›à¹„à¸”à¹‰
- à¸—à¸³à¸‡à¸²à¸™à¸­à¸­à¸Ÿà¹„à¸¥à¸™à¹Œ
- Service Worker caching
- Push notifications

## ğŸš€ Quick Start

### 1. Clone Repository
```bash
git clone [repository-url]
cd sanae-pos
npm install
```

### 2. Setup Supabase
1. à¸ªà¸£à¹‰à¸²à¸‡ Project à¹ƒà¸™ [Supabase](https://supabase.com)
2. à¸£à¸±à¸™ SQL scripts:
   - `SCHEMA.sql` - à¸ªà¸£à¹‰à¸²à¸‡à¸•à¸²à¸£à¸²à¸‡à¹à¸¥à¸° functions
   - `SEED.sql` - à¹ƒà¸ªà¹ˆà¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸•à¸±à¸§à¸­à¸¢à¹ˆà¸²à¸‡
3. à¸ªà¸£à¹‰à¸²à¸‡ Storage bucket à¸Šà¸·à¹ˆà¸­ `menu-images`

### 3. Environment Variables
à¸ªà¸£à¹‰à¸²à¸‡à¹„à¸Ÿà¸¥à¹Œ `.env.local`:
```bash
NEXT_PUBLIC_SUPABASE_URL=your_supabase_url
NEXT_PUBLIC_SUPABASE_ANON_KEY=your_supabase_anon_key
```

### 4. Development
```bash
npm run dev
```
à¹€à¸›à¸´à¸” [http://localhost:3000](http://localhost:3000)

## ğŸ—ï¸ Deployment

### Vercel (Recommended)
1. Push code à¹„à¸› GitHub
2. Connect repository à¹ƒà¸™ [Vercel](https://vercel.com)
3. à¸•à¸±à¹‰à¸‡à¸„à¹ˆà¸² Environment Variables à¹ƒà¸™ Vercel:
   - `NEXT_PUBLIC_SUPABASE_URL`
   - `NEXT_PUBLIC_SUPABASE_ANON_KEY`
4. Deploy!

### Auto-Deploy Setup
- à¹€à¸¡à¸·à¹ˆà¸­ push à¹„à¸› `main` branch à¸ˆà¸° deploy production
- à¹€à¸¡à¸·à¹ˆà¸­ push à¹„à¸› branch à¸­à¸·à¹ˆà¸™ à¸ˆà¸° deploy preview

## ğŸ¯ User Guide

### PIN Codes (Demo)
- `1234` - POS Staff
- `2345` - POS Staff 2  
- `3456` - Kitchen Staff
- `4567` - Kitchen Staff 2
- `9999` - Manager (à¸—à¸¸à¸à¸šà¸—à¸šà¸²à¸—)

### Roles & Permissions
| Feature | POS | KDS | Manager |
|---------|-----|-----|---------|
| à¸£à¸±à¸šà¸­à¸­à¹€à¸”à¸­à¸£à¹Œ | âœ… | âŒ | âœ… |
| KDS à¸„à¸£à¸±à¸§ | âŒ | âœ… | âœ… |
| KDS à¹€à¸„à¸£à¸·à¹ˆà¸­à¸‡à¸”à¸·à¹ˆà¸¡ | âŒ | âœ… | âœ… |
| à¸ˆà¸±à¸”à¸à¸²à¸£à¸šà¸´à¸¥ | âœ… | âŒ | âœ… |
| à¸£à¸²à¸¢à¸‡à¸²à¸™ | âŒ | âŒ | âœ… |

### Workflow
1. **à¹€à¸‚à¹‰à¸²à¸ªà¸¹à¹ˆà¸£à¸°à¸šà¸š** â†’ à¹ƒà¸ªà¹ˆ PIN â†’ à¹€à¸¥à¸·à¸­à¸à¸šà¸—à¸šà¸²à¸—
2. **à¸£à¸±à¸šà¸­à¸­à¹€à¸”à¸­à¸£à¹Œ** â†’ à¹€à¸¥à¸·à¸­à¸à¸›à¸£à¸°à¹€à¸ à¸— â†’ à¹€à¸¥à¸·à¸­à¸à¹€à¸¡à¸™à¸¹ â†’ à¸ªà¹ˆà¸‡à¸„à¸£à¸±à¸§
3. **à¸›à¸£à¸¸à¸‡à¸­à¸²à¸«à¸²à¸£** â†’ à¸”à¸¹ KDS â†’ à¸­à¸±à¸›à¹€à¸”à¸•à¸ªà¸–à¸²à¸™à¸°
4. **à¸Šà¸³à¸£à¸°à¹€à¸‡à¸´à¸™** â†’ à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸šà¸šà¸´à¸¥ â†’ à¹€à¸¥à¸·à¸­à¸à¸§à¸´à¸˜à¸µà¸Šà¸³à¸£à¸° â†’ à¸à¸´à¸¡à¸à¹Œà¹ƒà¸šà¹€à¸ªà¸£à¹‡à¸ˆ

## ğŸ› ï¸ Tech Stack

### Frontend
- **Next.js 14** - React framework with App Router
- **TypeScript** - Type safety
- **Tailwind CSS** - Styling
- **SweetAlert2** - Beautiful alerts
- **Lucide React** - Icons

### Backend
- **Supabase** - Database, Auth, Realtime, Storage
- **PostgreSQL** - Database with triggers
- **Row Level Security** - Data protection

### PWA
- **Service Worker** - Caching & offline
- **Web App Manifest** - Installable app
- **IndexedDB** - Offline storage

## ğŸ“ Project Structure

```
sanae-pos/
â”œâ”€â”€ app/                    # Next.js App Router
â”‚   â”œâ”€â”€ login/             # Login page
â”‚   â”œâ”€â”€ order-type/        # Order type selection
â”‚   â”œâ”€â”€ pos/               # POS interface
â”‚   â”œâ”€â”€ kds/
â”‚   â”‚   â”œâ”€â”€ kitchen/       # Kitchen display
â”‚   â”‚   â””â”€â”€ tea/          # Beverage display
â”‚   â”œâ”€â”€ bills/            # Bills management
â”‚   â”œâ”€â”€ manager/          # Manager dashboard
â”‚   â””â”€â”€ layout.tsx        # Root layout
â”œâ”€â”€ components/           # Reusable components
â”‚   â”œâ”€â”€ AppShell.tsx     # Navigation shell
â”‚   â”œâ”€â”€ MenuCard.tsx     # Menu item card
â”‚   â””â”€â”€ KdsTicket.tsx    # KDS ticket display
â”œâ”€â”€ lib/                 # Utilities
â”‚   â”œâ”€â”€ supabase.ts      # Supabase client
â”‚   â”œâ”€â”€ utils.ts         # Helper functions
â”‚   â””â”€â”€ idb.ts           # IndexedDB helpers
â”œâ”€â”€ public/             # Static files
â”‚   â”œâ”€â”€ sw.js           # Service worker
â”‚   â””â”€â”€ manifest.webmanifest
â”œâ”€â”€ styles/
â”‚   â””â”€â”€ globals.css     # Global styles
â”œâ”€â”€ SCHEMA.sql          # Database schema
â”œâ”€â”€ SEED.sql            # Sample data
â””â”€â”€ README.md
```

## ğŸ”§ Customization

### à¹€à¸à¸´à¹ˆà¸¡à¹€à¸¡à¸™à¸¹à¹ƒà¸«à¸¡à¹ˆ
1. à¹€à¸‚à¹‰à¸²à¸«à¸™à¹‰à¸² Manager â†’ à¸ˆà¸±à¸”à¸à¸²à¸£à¹€à¸¡à¸™à¸¹
2. à¸„à¸¥à¸´à¸ "à¹€à¸à¸´à¹ˆà¸¡à¹€à¸¡à¸™à¸¹"
3. à¸à¸£à¸­à¸à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¹à¸¥à¸°à¸­à¸±à¸›à¹‚à¸«à¸¥à¸”à¸£à¸¹à¸›

### à¹€à¸›à¸¥à¸µà¹ˆà¸¢à¸™à¸ªà¸µà¹à¸šà¸£à¸™à¸”à¹Œ
à¹à¸à¹‰à¹„à¸‚à¹ƒà¸™ `tailwind.config.js`:
```js
colors: {
  brand: {
    primary: '#761F1C',  // à¸ªà¸µà¸«à¸¥à¸±à¸
    light: '#8B342F',
    dark: '#5A1813',
  }
}
```

### à¹€à¸à¸´à¹ˆà¸¡à¸à¸²à¸£à¸Šà¸³à¸£à¸°à¹€à¸‡à¸´à¸™à¹à¸šà¸šà¹ƒà¸«à¸¡à¹ˆ
à¹à¸à¹‰à¹„à¸‚à¹ƒà¸™ `/app/bills/page.tsx`:
1. à¹€à¸à¸´à¹ˆà¸¡ payment method à¹ƒà¸™ enum
2. à¹€à¸à¸´à¹ˆà¸¡à¸›à¸¸à¹ˆà¸¡à¹ƒà¸™à¸ªà¹ˆà¸§à¸™ UI
3. à¸­à¸±à¸›à¹€à¸”à¸• `getPaymentMethodLabel()`

## ğŸ“± PWA Installation

### iOS
1. à¹€à¸›à¸´à¸”à¹€à¸§à¹‡à¸šà¹ƒà¸™ Safari
2. à¸à¸”à¸›à¸¸à¹ˆà¸¡ Share
3. à¹€à¸¥à¸·à¸­à¸ "Add to Home Screen"

### Android
1. à¹€à¸›à¸´à¸”à¹€à¸§à¹‡à¸šà¹ƒà¸™ Chrome
2. à¸à¸” Menu (3 à¸ˆà¸¸à¸”)
3. à¹€à¸¥à¸·à¸­à¸ "Add to Home screen"

### Desktop
1. à¹€à¸›à¸´à¸”à¹€à¸§à¹‡à¸šà¹ƒà¸™ Chrome/Edge
2. à¸„à¸¥à¸´à¸à¹„à¸­à¸„à¸­à¸™ + à¹ƒà¸™ address bar
3. à¹€à¸¥à¸·à¸­à¸ "Install"

## ğŸ”’ Security

### Database Security
- Row Level Security (RLS) enabled
- API keys à¹€à¸à¹‡à¸šà¹ƒà¸™ Environment Variables
- Input validation à¹à¸¥à¸° sanitization

### Best Practices  
- à¹ƒà¸Šà¹‰ `NEXT_PUBLIC_` à¸ªà¸³à¸«à¸£à¸±à¸š client-side à¹€à¸—à¹ˆà¸²à¸™à¸±à¹‰à¸™
- à¸­à¸¢à¹ˆà¸²à¹€à¸›à¸´à¸”à¹€à¸œà¸¢ `SERVICE_ROLE_KEY`
- Enable 2FA à¹ƒà¸™ Supabase dashboard

## ğŸ› Troubleshooting

### à¹„à¸¡à¹ˆà¸ªà¸²à¸¡à¸²à¸£à¸–à¹€à¸Šà¸·à¹ˆà¸­à¸¡à¸•à¹ˆà¸­ Supabase
1. à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸š Environment Variables
2. à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸š URL à¹à¸¥à¸° API Key à¹ƒà¸™ Supabase dashboard
3. à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸š Network/Firewall

### Real-time à¹„à¸¡à¹ˆà¸—à¸³à¸‡à¸²à¸™
1. à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸š Supabase subscription limit
2. à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸š RLS policies
3. à¹€à¸›à¸´à¸” Network tab à¹ƒà¸™ DevTools

### PWA à¹„à¸¡à¹ˆà¸•à¸´à¸”à¸•à¸±à¹‰à¸‡à¹„à¸”à¹‰
1. à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸š HTTPS (à¸ˆà¸³à¹€à¸›à¹‡à¸™à¸ªà¸³à¸«à¸£à¸±à¸š PWA)
2. à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸š `manifest.webmanifest`
3. à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸š Service Worker registration

## ğŸ“ Support

à¸ªà¸³à¸«à¸£à¸±à¸šà¸„à¸³à¸–à¸²à¸¡à¸«à¸£à¸·à¸­à¸‚à¹‰à¸­à¹€à¸ªà¸™à¸­à¹à¸™à¸°:
- à¹€à¸›à¸´à¸” GitHub Issue
- à¸•à¸´à¸”à¸•à¹ˆà¸­à¸—à¸µà¸¡à¸à¸±à¸’à¸™à¸²

## ğŸ“„ License

MIT License - à¹ƒà¸Šà¹‰à¸‡à¸²à¸™à¹„à¸”à¹‰à¸­à¸¢à¹ˆà¸²à¸‡à¸­à¸´à¸ªà¸£à¸°

---

**Built with â¤ï¸ for Thai restaurants**

à¸£à¸°à¸šà¸šà¸™à¸µà¹‰à¸­à¸­à¸à¹à¸šà¸šà¸¡à¸²à¹€à¸à¸·à¹ˆà¸­à¸£à¹‰à¸²à¸™à¸­à¸²à¸«à¸²à¸£à¹„à¸—à¸¢à¹‚à¸”à¸¢à¹€à¸‰à¸à¸²à¸° à¸à¸£à¹‰à¸­à¸¡à¹ƒà¸Šà¹‰à¸‡à¸²à¸™à¸ˆà¸£à¸´à¸‡à¹à¸¥à¸°à¸‚à¸¢à¸²à¸¢à¹„à¸”à¹‰à¸•à¸²à¸¡à¸„à¸§à¸²à¸¡à¸•à¹‰à¸­à¸‡à¸à¸²à¸£